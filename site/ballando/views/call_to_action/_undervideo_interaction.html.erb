<% interaction_reward_status = get_current_interaction_reward_status(MAIN_REWARD_NAME, interaction) %>

<div id="undervideo-area-<%= interaction.id %>">
  <div id="undervideo-interaction-<%= interaction.id %>" class="row undervideo">

    <% if interaction.resource_type.downcase == "upload" %>
      <%= render partial: "/call_to_action/#{interaction.resource_type.downcase}_interaction", locals: { interaction: interaction, outcome: outcome, cta_id: ctaid, interaction_reward_status: interaction_reward_status } %>
    <% elsif interaction.resource_type.downcase == "quiz" %>
        <div class="col-md-12">
          <%= render partial: "/call_to_action/#{interaction.resource.quiz_type.downcase.to_sym}_interaction", locals: { interaction: interaction, user_interaction: get_user_interaction_from_interaction(interaction, current_or_anonymous_user), interaction_reward_status: interaction_reward_status, calltoaction_id: ctaid } %>
        </div>
    <% else %>
      <%= render partial: "/call_to_action/#{interaction.resource_type.downcase}_interaction", locals: { interaction: interaction, outcome: outcome, user_interaction: get_user_interaction_from_interaction(interaction, current_or_anonymous_user), interaction_reward_status: interaction_reward_status, calltoaction_id: ctaid } %>   
    <% end %>

  </div>

  <% if outcome.present? %>
    <div id="undervideo-outcome-<%= interaction.id %>" class="row undervideo">
      <%= render partial: "/call_to_action/feedback_undervideo", locals: { interaction: interaction, outcome: outcome, interaction_reward_status: interaction_reward_status, user_interaction: get_user_interaction_from_interaction(interaction, current_or_anonymous_user) } %>
    </div>
  <% end %>
</div>