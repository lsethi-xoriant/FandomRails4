<div class="col-sm-12">
  <div class="row comment-interaction__form-row">
    <div class="col-xs-1 text-center comment-interaction__avatar-container">
      <img src="<%= current_avatar %>" class="comment-interaction__profile-img">
    </div>
    <div class="col-xs-11">
      <textarea ng-model="interaction_info.interaction.resource.comment_info.user_text" class="form-control comment-interaction__textarea" style="resize: none;" rows="1" name="text"></textarea>
    </div>
    <div ng-if="!current_user" class="col-sm-3 col-sm-offset-1 comment-interaction__captcha-img">                    
      <img ng-src="{{interaction_info.interaction.captcha}}" style="width: 100%; max-width: 200px; height: 33px;">
    </div> 
    <div ng-if="!current_user" class="col-sm-3 comment-interaction__captcha-code">   
      <input class="form-control" ng-model="interaction_info.interaction.resource.comment_info.user_captcha" placeholder="AZ341MM">
    </div>     
    <div class="col-sm-5 text-right comment-interaction__btn-container" ng-class="{'col-sm-offset-7': current_user}">
      <button class="btn btn-primary btn-block comment-interaction__btn-submit" ng-click="submitComment(interaction_info)"><span>Commenta</span></button>
    </div> 
  </div>

  <div ng-repeat="comment in interaction_info.interaction.resource.comment_info.comments">
    <div class="row comment-interaction__comment-row" ng-class="{'comment_evidence': (comment.evidence), 'comment-interaction__comment-even': ($index % 2 == 0), 'comment-interaction__comment-odd': ($index % 2 == 1)}">
      <div class="col-xs-1 text-center comment-interaction__avatar-container">
        <img ng-src="{{comment.user.avatar}}" class="comment-interaction__avatar">
      </div>
      <div class="col-xs-11">
        <p class="comment-interaction__text-p">
          <span class="comment-interaction__cover__name">{{comment.user.name}}</span><br>
          <span class="comment-interaction__cover__text">{{comment.text}}</span><br>
          <!--<span class="comment-interaction__date">{{comment.updated_at}}</span>-->
        </p>
      </div>
    </div>
  </div>

  <div class="row comment-interaction__other" ng-if="interaction_info.interaction.resource.comment_info.comments_total_count - interaction_info.interaction.resource.comment_info.comments.length > 0">
    <div class="col-md-12">
      <a href="javascript: void(0)" ng-click="appendComments(interaction_info)"><span class="glyphicon glyphicon-comment comment-interaction__info__glyphicon-comment"></span><span class="comment-interaction__other-text">Leggi {{interaction_info.interaction.resource.comment_info.comments_total_count - interaction_info.interaction.resource.comment_info.comments.length}} commenti precedenti</span></a>
    </div>
  </div>
</div>


