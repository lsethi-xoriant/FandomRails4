<%= render partial: "/application/user_bar" %>

<div class="container-fluid" ng-app="StreamCalltoactionApp" ng-controller="StreamCalltoactionCtrl" ng-init="init(<%= !current_user.blank? %>, <%= [@calltoaction].to_json %>, 1, <%= @calltoactions_during_video_interactions_second.to_json %>)">   
  
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-sm-10 col-sm-offset-1">
      <div class="row">
		  <div class="col-md-12"> 
		    <% if flash[:error] %>
		      <div class="row">
		        <div class="col-lg-12">
		          <div class="alert alert-danger">
		            <p>Errori proceso di upload:</p>
		            <p>
		              <ul>
		                <% flash[:error].each do |msg| %>
		                  <li><%= msg %></li>
		                <% end %>
		              </ul>
		            </p>
		          </div>
		        </div>
		      </div>
		    <% elsif flash[:notice] %>
		      <div class="row">
		        <div class="col-lg-12">
		          <div class="alert alert-success"><%= flash[:notice] %></div>
		        </div>
		      </div>
		    <% end %>
		  </div>
		</div>
    </div>
  </div>
  
  <div class="row">
  	<div class="col-lg-8 col-lg-offset-2 col-sm-10 col-sm-offset-1">
  		<div class="row" style="background-image: url(<%= @gallery_tag.tag_fields.find_by_name("header_image").upload %>); background-repeat: no-repeat; background-size: 100% auto;">
  			<div class="col-sm-7 col-sm-offset-4">
  				<h3><%= @gallery_tag.tag_fields.find_by_name("description").value %></h3>
  			</div>
  		</div>
  	</div>
  	
  	<%= render partial: "/gallery/gallery_calltoaction", locals: { calltoaction: @calltoaction, outcome: nil } %>
  </div>
  
  <div class="row">
      <%= render partial: "/call_to_action/stream_calltoactions", locals: { calltoactions: @gallery_calltoactions } %>
  </div>
  
</div>
