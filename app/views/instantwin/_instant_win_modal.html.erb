<div class="modal fade" id="modal-interaction-instant-win-registration" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">

        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>

        <div class="row">
          <div class="col-md-12 text-center"> 
            <p class="instant-win__modal-title">Gioca e vinci!</p><br/>
          </div>
          <div class="col-md-10 col-md-offset-1">
            <form class="form-horizontal" onsubmit="return false;" ng-submit="processRegistrationForm()" method="post" action="" accept-charset="UTF-8">
              <div ng-if="form_data.current_user.errors" class="row">
                <div class="col-md-12">
                  <ul class="list-unstyled form-error">
                    <p>Errori nell'inserimento dei dati:</p>
                    <li ng-repeat="error in form_data.current_user.errors">{{error}}</li>
                  </ul>
                </div>
              </div>

              <div class="row" ng-if="aux.instant_win_info.form_extra_fields">
                <div class="col-xs-12" ng-repeat="field in aux.instant_win_info.form_extra_fields">

                  <!-- CHECKBOX -->
                  <div class="row" ng-if="field.type == 'checkbox'">
                    <div class="col-sm-4 text-right">
                      <input id="extra_fields_age_{{field.name}}" name="extra_fields_{{field.name}}" type="checkbox" value="1" ng-model="form_data.current_user[field.name]">
                    </div>
                    <div class="col-sm-8">
                      <label style="color: #555555;">{{field.label}}<span ng-if="field.required">*</span></label>
                    </div>
                  </div>

                  <!-- TEXTFIELD -->
                  <div class="form-group" ng-if="field.type == 'textfield'">
                    <label class="col-sm-4 control-label">{{field.label}}<span ng-if="field.required">*</span></label>
                    <div class="col-sm-8">
                      <input class="form-control" id="extra_fields_age_{{field.name}}" name="extra_fields_{{field.name}}" type="textfield" value="1" ng-model="form_data.current_user[field.name]" ng-readonly="field.readonly">
                    </div>
                  </div>

                  <!-- DATE -->
                  <div class="form-group" ng-if="field.type == 'date'">
                    <label class="col-sm-4 control-label">{{field.label}}<span ng-if="field.required">*</span></label>
                    <div class="col-sm-8">
                      <div class="row">
                        <div class="col-sm-4 margin-top-15-mobile">
                          <% date_array = (1..31).map { |date| [date, date] } %>
                          <% date_array.unshift ["Giorno", ""] %>
                          <%= select_tag(:day_of_birth, options_for_select(date_array), class: "form-control", "ng-model" => "form_data.current_user.day_of_birth", name: "extra_fields_age_{{field.name}}_day") %>
                        </div>
                        <div class="col-sm-4 margin-top-15-mobile">
                          <% date_array = (1..12).map { |date| [date, date] } %>
                          <% date_array.unshift ["Mese", ""] %>
                          <%= select_tag(:month_of_birth, options_for_select(date_array), class: "form-control", "ng-model" => "form_data.current_user.month_of_birth", name: "extra_fields_age_{{field.name}}_month") %>
                        </div>
                        <div class="col-sm-4 margin-top-15-mobile">
                          <% date_array = (1900..2020).map { |date| [date, date] } %>
                          <% date_array.unshift ["Anno", ""] %>
                          <%= select_tag(:year_of_birth, options_for_select(date_array), class: "form-control", "ng-model" => "form_data.current_user.year_of_birth", name: "extra_fields_age_{{field.name}}_year") %>
                        </div>
                      </div>
                    </div>
                  </div>

                </div>
              </div>


              <div class="row">
                <div class="col-sm-4 col-sm-offset-8">
                  <button type="submit" class="btn btn-primary instant-win__button btn-block">COMPLETA</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="modal-interaction-instant-win" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>

        <div class="row" ng-if="aux.instant_win_info.active" >
          <div ng-if="(aux.instant_win_info.win == false || aux.instant_win_info.win == null) && current_user.instantwin_tickets_counter < 1" class="col-md-12 text-center">
            <p>PECCATO<br>Hai esaurito i biglietti</p>
          </div>
          <div ng-if="aux.instant_win_info.win" class="col-md-12 text-center">
            <p>Hai gi√† vinto un premio</p>
          </div>
          <div class="col-md-12"><p>Hai {{current_user.instantwin_tickets_counter}} biglietti</p></div>
          <div ng-if="!aux.instant_win_info.win && aux.instant_win_info.active" class="col-md-12 text-center">
            <a class="btn btn-primary instant-win__button btn-lg" ng-class="{disabled: (aux.instant_win_info.in_progress || aux.instant_win_info.win || current_user.instantwin_tickets_counter < 1)}" href="javascript:void(0)" ng-click="playInstantWin();">GIOCA UN BIGLIETTO</a>
          </div>
        </div>

        <div ng-if="!aux.instant_win_info.active" class="modal-body">
          <div class="row">
            <div class="col-md-12 text-center">
              <p>Concorso non attivo</p>
            </div>
          </div>
        </div>

      </div>

    </div>
  </div>
</div>