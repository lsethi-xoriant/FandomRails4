<div class="col-sm-12 filters__flexslider" ng-if="aux.filter_info">
  <div class="flexslider filters__flexslider-desktop hidden-xs">
    <div class="flex-viewport-shadow"></div>
    <ul class="slides">
      <li ng-repeat="filter in aux.filter_info" class="text-center filters__flexslider-desktop-item" style="background-color: {{filter.background}};">
        <%= light_link_to("/browse/category/{{filter.id}}", class: "filters__flexslider-a") do %>
          <img class="filters__flexslider-image" ng-src="{{filter.image}}">  
          <div class="filters__title">{{filter.title}}</div>      
        <% end %>
      </li>
    </ul>
  </div>

  <div class="flexslider filters__flexslider-mobile visible-xs">
    <ul class="slides">
      <li ng-repeat="filter in aux.filter_info" class="text-center filters__flexslider-mobile-item" style="background-color: {{filter.background}};">
        <%= light_link_to("/browse/category/{{filter.id}}") do %>
          <p class="filters__title">{{filter.title}}</p>
          <img  class="filters__flexslider-image" ng-src="{{filter.image}}">
        <% end %>
      </li>
    </ul>
  </div>
</div>

<script type="text/javascript">
  $(document).ready(function() {
    $('.filters__flexslider-desktop').flexslider({
      animation: "slide",
      slideshow: false,
      animationLoop: false,
      touch: true,
      itemWidth: 262,
      itemMargin: 15,
      controlNav: false,
      prevText: "",
      nextText: ""
    });

    $(".filters__flexslider-desktop-item").first().find(".filters__flexslider-item-active").removeClass("hidden");

    $(".filters__flexslider-desktop-item").bind("click", function() {
      $(".filters__flexslider-desktop-item").find(".filters__flexslider-item-active").addClass("hidden");
      $(this).find(".filters__flexslider-item-active").removeClass("hidden");
    });

    $(".filters__flexslider-mobile-item").first().find(".filters__flexslider-item-active").removeClass("hidden");

    $(".filters__flexslider-mobile-item").bind("click", function() {
      $(".filters__flexslider-mobile-item").find(".filters__flexslider-item-active").addClass("hidden");
      $(this).find(".filters__flexslider-item-active").removeClass("hidden");
    });

    $('.filters__flexslider-mobile').flexslider({
      animation: "slide",
      slideshow: false,
      animationLoop: false,
      touch: true,
      itemWidth: 262,
      itemMargin: 8,
      controlNav: false,
      prevText: "",
      nextText: ""
    });
  });
</script>