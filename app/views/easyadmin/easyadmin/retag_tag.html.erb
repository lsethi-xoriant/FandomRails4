<%= render partial: "/easyadmin/easyadmin/left_bar", locals: { page: "tags" } %>
 
  <div id="content">    
    
    <div id="content-header">
      <h1>RITAGGA</h1>
    </div> <!-- #content-header --> 

    <div id="content-container">
    
    <div class="row">
      <div class="col-md-12">
		<% if flash.now[:error] %>
          <div class="row">
            <div class="col-lg-12">
              <div class="alert alert-danger">
                <p>Errori nel ritaggare:</p>
                <p>
                  <ul>
                    <% flash.now[:error].each do |msg| %>
                      <li><%= msg %></li>
                    <% end %>
                  </ul>
                </p>
              </div>
            </div>
          </div>
          <% elsif flash.now[:notice] %>
          <div class="row">
            <div class="col-lg-12">
              <div class="alert alert-success"><%= safe_join(flash.now[:notice], "<br>".html_safe) %></div>
            </div>
          </div>
        <% end %>
      </div>
    </div>
    	    
	    <div class="row">
    		<div class="col-lg-8 col-lg-offset-2">
    			<div class="alert alert-info" role="alert">
    				Avviando la funzione "RITAGGA", verrà aggiunto il tag inserito in "Nuovo tag" ai contenuti (Call to
    				action, Reward, Tag) che presentano TUTTI i tag inseriti nel campo "Aggiorna contenuti taggati con".<br>
    				Per aggiornare i contenuti che presentano ALMENO UNO fra i tag da ricercare, è necessario chiamare
    				la funzione per ciascun tag da ricercare singolarmente.
    				<dl class="dl-horizontal">
    					<dt>Attenzione:</dt><dd>I tag attualmente non validi non risultano presenti negli elenchi a cascata.</dd>
    				</dl>
    			</div>
    		</div>
    	</div>

    	<%= form_tag :method => 'post' do %>

    	<h3>Aggiorna contenuti taggati con:</h3>

      	<%= render :partial => "tag_box", :locals => {:id_text_field => "old_tag_tag_list", :instance_text_field => nil, :new_tag_message => "Attenzione: inseriti tag non esistenti."} %>
		<span class="help-block">Per separare i TAG digita virgola</span>

      	<p id="old_tag_tag_list_message"> </p>
      	<hr/>

      	<h3>Nuovo tag</h3>

      	<%= render :partial => "tag_box", :locals => {:id_text_field => "new_tag_tag_list", :instance_text_field => nil, :new_tag_message => "Nuovi tag verranno creati."} %>

      	<p id="new_tag_tag_list_message"> </p>
      	<hr/>

      	<br/>
      	<div class="row text-center">
      	  	<div class="col-sm12">
       	  		<%= submit_tag 'RITAGGA', class: 'btn btn-primary' %>
      	 	</div>
     	 </div> 
      
		<% end %>
	</div>
</div>

